const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/authenticated-C_bpH6bG.js","js/firebase-config-2YIhq72v.js","js/unauthenticated-DcQpHx_e.js"])))=>i.map(i=>d[i]);
import{i as k,f as T,g as _,a as F,G as v,b as G,s as U,c as q,d as h,e as C,o as D}from"./firebase-config-2YIhq72v.js";const H="modulepreload",O=function(e){return"/AG-Home/"+e},f={},E=function(t,o,c){let y=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));y=Promise.allSettled(o.map(s=>{if(s=O(s),s in f)return;f[s]=!0;const d=s.endsWith(".css"),S=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${S}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":H,d||(i.as="script"),i.crossOrigin="",i.href=s,r&&i.setAttribute("nonce",r),document.head.appendChild(i),d)return new Promise((b,P)=>{i.addEventListener("load",b),i.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${s}`)))})}))}function p(n){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n}return y.then(n=>{for(const r of n||[])r.status==="rejected"&&p(r.reason);return t().catch(p)})};function R(e){console.error("Auth Error:",e);const t=e.message||"Authentication error occurred";alert(t)}console.log("App.js loaded");const w=k(T),a=_(w);F(w);const W=new v,$=new G,m=document.getElementById("login"),j=document.getElementById("googleLogin"),x=document.getElementById("githubLogin"),V=document.getElementById("logoutBtn"),z=document.getElementById("showSignup"),J=document.getElementById("showLogin"),g=document.getElementById("signup"),K=document.getElementById("settingsBtn"),l=document.getElementById("settingsModal"),Q=document.getElementById("closeSettings"),B=document.querySelectorAll(".theme-btn");function A(e){document.body.setAttribute("data-theme",e),localStorage.setItem("theme",e),I(e)}function I(e){B.forEach(t=>{t.classList.toggle("active",t.getAttribute("data-theme")===e)})}const X=localStorage.getItem("theme")||"dark";A(X);K.addEventListener("click",()=>{l.classList.remove("hidden"),I(document.body.getAttribute("data-theme"))});Q.addEventListener("click",()=>{l.classList.add("hidden")});B.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-theme");A(t)})});l.addEventListener("click",e=>{e.target===l&&l.classList.add("hidden")});function Y(){const e=document.getElementById("loginForm"),t=document.getElementById("signupForm");e.classList.add("slide-out-left"),t.classList.remove("hidden"),setTimeout(()=>{t.classList.remove("slide-out-right")},10),setTimeout(()=>{e.classList.add("hidden")},500)}function Z(){const e=document.getElementById("loginForm"),t=document.getElementById("signupForm");t.classList.add("slide-out-right"),e.classList.remove("hidden"),setTimeout(()=>{e.classList.remove("slide-out-left")},10),setTimeout(()=>{t.classList.add("hidden")},500)}z.addEventListener("click",Y);J.addEventListener("click",Z);function u(){window.location.href="/home.html"}m.addEventListener("submit",async e=>{e.preventDefault();const t=m.querySelector('input[type="email"]').value,o=m.querySelector('input[type="password"]').value;try{await U(a,t,o),u()}catch(c){console.error("Login error:",c),alert("Login failed: "+c.message)}});g.addEventListener("submit",async e=>{e.preventDefault();const t=g.querySelector('input[type="email"]').value,o=g.querySelector('input[type="password"]').value;try{await q(a,t,o),u()}catch(c){console.error("Signup error:",c),alert("Signup failed: "+c.message)}});j.addEventListener("click",async()=>{try{await h(a,W),u()}catch(e){console.error("Google login error:",e),alert("Google login failed: "+e.message)}});x.addEventListener("click",async()=>{try{await h(a,$),u()}catch(e){console.error("GitHub login error:",e),alert("GitHub login failed: "+e.message)}});V.addEventListener("click",async()=>{try{await C(a),document.getElementById("loginForm").classList.remove("hidden"),document.getElementById("userDisplay").textContent="",document.getElementById("logoutBtn").classList.add("hidden")}catch(e){console.error("Logout error:",e),alert("Logout failed: "+e.message)}});D(a,async e=>{try{if(e){const{default:t}=await E(async()=>{const{default:o}=await import("./authenticated-C_bpH6bG.js");return{default:o}},__vite__mapDeps([0,1]));t(e)}else{const{default:t}=await E(async()=>{const{default:o}=await import("./unauthenticated-DcQpHx_e.js");return{default:o}},__vite__mapDeps([2,1]));t()}}catch(t){R(t)}});const M=async e=>{e.preventDefault();try{const t=new v;t.setCustomParameters({prompt:"select_account"}),await h(a,t)}catch(t){t.code!=="auth/cancelled-popup-request"&&(console.error("Google login error:",t),alert("Login failed. Please try again."))}};var L;(L=document.getElementById("googleLogin"))==null||L.addEventListener("click",M);export{a,R as h};
//# sourceMappingURL=index-BFb3Ss52.js.map
